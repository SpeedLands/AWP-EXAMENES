<!DOCTYPE HTML>
<html>
	<head>
		<title>Exámenes Disponibles - AWP Examenes App</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="/awp/assets/css/main.css" />
		<noscript><link rel="stylesheet" href="/awp/assets/css/noscript.css" /></noscript>
		<link rel="manifest" href="/awp/manifest.json">
		<meta name="theme-color" content="#3c8dbc">
		<link rel="icon" type="image/png" sizes="48x48" href="/awp/images/icons/icon-48x48.png">
    	<link rel="icon" type="image/png" sizes="72x72" href="/awp/images/icons/icon-72x72.png">
	</head>
	<body class="is-preload">
		<div id="page-wrapper">

			<!-- Header -->
			<header id="header">
				<h1 id="logo"><a href="index.html">Examenes PWA</a></h1>
				<nav id="nav">
					<ul>
						<li><a href="index.html">Inicio</a></li>
						<li><a href="examenes.html" class="active">Exámenes</a></li>
						<li><a href="login.html" class="button">Iniciar Sesión</a></li>
					</ul>
				</nav>
			</header>

			<!-- Main -->
			<div id="main" class="wrapper style1">
				<div class="container">
					<header class="major">
						<h2>Exámenes Disponibles</h2>
						<p>Elige un examen para ver los detalles o para comenzar a resolverlo.</p>
					</header>

					<!-- Contenedor Principal -->
					<div id="app-container">

						<!-- 1. Vista de Lista de Exámenes (Visible por defecto) -->
						<section id="exam-list-container">
							<div class="row gtr-150" id="exam-list">
								<!-- Los exámenes se cargarán aquí dinámicamente -->
								<p>Cargando exámenes...</p>
							</div>
						</section>

						<!-- 2. Vista de Detalles del Examen (Oculta por defecto) -->
						<section id="exam-detail-container" style="display: none;">
							<button id="back-to-list-btn" class="button primary small icon solid fa-arrow-left">Volver a la lista</button>
							<div id="exam-details-content" class="box">
								<!-- Los detalles del examen se cargarán aquí -->
							</div>
							<button id="start-exam-btn" class="button primary">Iniciar Examen</button>
							<div id="classification-table-content" class="box">
								<h3>Tabla de Clasificación</h3>
								<div class="table-wrapper">
									<table id="classification-table">
										<thead>
											<tr>
												<th>Posición</th>
												<th>Clave</th>
												<th>Puntaje Obtenido</th>
												<th>Porcentaje</th>
											</tr>
										</thead>
										<tbody id="classification-table-body">
											<!-- La clasificación se cargará aquí -->
										</tbody>
									</table>
								</div>
							</div>
						</section>

						<!-- 3. Vista para Resolver el Examen (Oculta por defecto) -->
						<section id="exam-taking-container" style="display: none;">
							<h2 id="exam-title-taking"></h2>
							<div id="question-container" class="box">
								<!-- Las preguntas del examen se cargarán aquí -->
							</div>
							<button id="next-question-btn" class="button primary">Siguiente Pregunta</button>
						</section>

					</div>
				</div>
			</div>

			<!-- Footer -->
			<footer id="footer">
				<ul class="copyright">
					<li>&copy; Examenes PWA. Todos los derechos reservados.</li><li>Diseño: <a href="http://html5up.net">HTML5 UP</a></li>
				</ul>
			</footer>

			<div id="modal-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 999;"></div>
			<div id="user-key-modal" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 2em; border-radius: 8px; z-index: 1000; width: 90%; max-width: 500px;">
				<div class="modal-content">
					<h3>Identifícate</h3>
					<p>Ingresa una clave o apodo para que tus resultados aparezcan en la tabla de clasificación.</p>
					<form id="user-key-form">
						<input type="text" id="user-key-input" name="user-key" placeholder="Tu Apodo" required minlength="3">
						<div class="modal-actions">
							<button type="button" id="cancel-key-btn" class="button alt">Cancelar</button>
							<button type="submit" class="button primary">Comenzar Examen</button>
						</div>
					</form>
				</div>
			</div>
			
		</div>

		<script src="assets/js/firebase-app-compat.js"></script>
        <script src="assets/js/firebase-messaging-compat.js"></script>

		<!-- Scripts -->
		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/jquery.scrolly.min.js"></script>
		<script src="assets/js/jquery.dropotron.min.js"></script>
		<script src="assets/js/jquery.scrollex.min.js"></script>
		<script src="assets/js/browser.min.js"></script>
		<script src="assets/js/breakpoints.min.js"></script>
		<script src="assets/js/util.js"></script>
		<script src="assets/js/main.js"></script>
        
		<script src="assets/js/umd.min.js"></script>

		<script src="idb-manager.js"></script>

		<!-- ** SCRIPT PRINCIPAL DE NUESTRA APLICACIÓN ** -->
		<!-- Aquí se registra el Service Worker y se inicializa la lógica de la PWA -->
		<script src="app.js"></script>
		<script src="examenes-logic.js"></script>
		
	</body>
</html>